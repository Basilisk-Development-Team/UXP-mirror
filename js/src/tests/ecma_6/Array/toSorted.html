<!doctype html>
<meta charset="utf-8">
<title>Array.prototype.toSorted test</title>
<style>
  body { font: 14px/1.4 sans-serif; padding: 16px; }
  .pass { color: #0a0; }
  .fail { color: #c00; }
  pre { white-space: pre-wrap; }
</style>
<pre id="log"></pre>
<script>
(function() {
  const log = document.getElementById("log");
  function write(msg, cls) {
    const line = document.createElement("div");
    if (cls) line.className = cls;
    line.textContent = msg;
    log.appendChild(line);
  }

  window.assertEq = function(actual, expected, msg) {
    if (actual !== expected) {
      throw new Error((msg ? msg + ": " : "") +
                      "expected " + expected + ", got " + actual);
    }
  };

  window.assertThrowsInstanceOf = function(fn, ctor, msg) {
    let threw = false;
    try {
      fn();
    } catch (e) {
      if (e instanceof ctor) {
        threw = true;
      } else {
        throw new Error((msg ? msg + ": " : "") +
                        "threw " + e + ", expected " + ctor.name);
      }
    }
    if (!threw) {
      throw new Error((msg ? msg + ": " : "") + "did not throw");
    }
  };

  window.reportCompare = function() {};

  let hadError = false;
  window.addEventListener("error", function(e) {
    hadError = true;
    write("FAIL: " + e.message, "fail");
  });
  window.addEventListener("load", function() {
    write("PASS: toSorted.js loaded", "pass");
    if (!hadError)
      write("PASS: all toSorted tests passed", "pass");
  });
})();
</script>
<script src="toSorted.js"></script>
